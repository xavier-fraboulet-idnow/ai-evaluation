{
	"info": {
		"_postman_id": "3c021940-cc2c-4c13-95d6-476014de804e",
		"name": "Assina",
		"description": "Collection of Postman calls to test the Assina Endpoints\nBefore running any other request, call \"admin login\" and \"carlos login\"\nThese will set up two variables with JWT keys",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "CSC Walkthrough",
			"item": [
				{
					"name": "1: carlos login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Returned token\", function () {",
									"    pm.response.to.have.status(200)",
									"    ",
									"});",
									"const responseJson = pm.response.json();",
									"var token = responseJson.accessToken",
									"pm.collectionVariables.set(\"user-token\", token);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\"usernameOrEmail\":\"carlos\",\"password\":\"carlos\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{rssp-url}}/auth/login",
							"host": [
								"{{rssp-url}}"
							],
							"path": [
								"auth",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "1.5: CSC Info (OPTIONAL)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{user-token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{rssp-url}}/csc/v1/info",
							"host": [
								"{{rssp-url}}"
							],
							"path": [
								"csc",
								"v1",
								"info"
							]
						}
					},
					"response": [
						{
							"name": "example info",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "localhost:8080/csc/v1/info",
									"host": [
										"localhost"
									],
									"port": "8080",
									"path": [
										"csc",
										"v1",
										"info"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Vary",
									"value": "Origin"
								},
								{
									"key": "Vary",
									"value": "Access-Control-Request-Method"
								},
								{
									"key": "Vary",
									"value": "Access-Control-Request-Headers"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-XSS-Protection",
									"value": "1; mode=block"
								},
								{
									"key": "Cache-Control",
									"value": "no-cache, no-store, max-age=0, must-revalidate"
								},
								{
									"key": "Pragma",
									"value": "no-cache"
								},
								{
									"key": "Expires",
									"value": "0"
								},
								{
									"key": "X-Frame-Options",
									"value": "DENY"
								},
								{
									"key": "Content-Type",
									"value": "application/json"
								},
								{
									"key": "Transfer-Encoding",
									"value": "chunked"
								},
								{
									"key": "Date",
									"value": "Sun, 20 Jun 2021 21:30:55 GMT"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=60"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								}
							],
							"cookie": [],
							"body": "{\n    \"specs\": \"1.0.4.0\",\n    \"name\": \"Assina\",\n    \"logo\": \"https://service.domain.org/images/logo.png\",\n    \"region\": \"PT\",\n    \"lang\": \"en-US\",\n    \"description\": \"A remove signature service by Assina for LEI 2021 at UMinho\",\n    \"authType\": [\n        \"oauth2code\"\n    ],\n    \"oauth2\": \"google oauth\",\n    \"methods\": [\n        \"credentials/list\",\n        \"credentials/info\",\n        \"credentials/authorize\",\n        \"credentials/sendOTP\",\n        \"signatures/signHash\"\n    ]\n}"
						}
					]
				},
				{
					"name": "2: CSC List Credentials",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Returned list\", function () {",
									"    pm.response.to.have.status(200)",
									"    ",
									"});",
									"const responseJson = pm.response.json();",
									"console.log(responseJson)",
									"var credentialIDs = responseJson.credentialIDs",
									"console.log(credentialIDs)",
									"var credentialID = credentialIDs[0]",
									"console.log(credentialID)",
									"pm.collectionVariables.set(\"credential-id\", credentialID);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{user-token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{rssp-url}}/csc/v1/credentials/list",
							"host": [
								"{{rssp-url}}"
							],
							"path": [
								"csc",
								"v1",
								"credentials",
								"list"
							]
						}
					},
					"response": [
						{
							"name": "example list",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "localhost:8080/csc/v1/credentials/list",
									"host": [
										"localhost"
									],
									"port": "8080",
									"path": [
										"csc",
										"v1",
										"credentials",
										"list"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Vary",
									"value": "Origin"
								},
								{
									"key": "Vary",
									"value": "Access-Control-Request-Method"
								},
								{
									"key": "Vary",
									"value": "Access-Control-Request-Headers"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-XSS-Protection",
									"value": "1; mode=block"
								},
								{
									"key": "Cache-Control",
									"value": "no-cache, no-store, max-age=0, must-revalidate"
								},
								{
									"key": "Pragma",
									"value": "no-cache"
								},
								{
									"key": "Expires",
									"value": "0"
								},
								{
									"key": "X-Frame-Options",
									"value": "DENY"
								},
								{
									"key": "Content-Type",
									"value": "application/json"
								},
								{
									"key": "Transfer-Encoding",
									"value": "chunked"
								},
								{
									"key": "Date",
									"value": "Sun, 20 Jun 2021 21:31:34 GMT"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=60"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								}
							],
							"cookie": [],
							"body": "{\n    \"credentialIDs\": [\n        \"822b1792-3a7c-46b0-b3b6-c586d977eafc\",\n        \"a677a52c-802b-4c96-bc36-a332f787942b\",\n        \"bf0c54ff-d787-4ae1-b705-28b09a4872df\"\n    ],\n    \"nextPageToken\": null\n}"
						}
					]
				},
				{
					"name": "3: CSC Credential Info",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Returned Credential Info\", function () {",
									"    pm.response.to.have.status(200)",
									"    ",
									"});",
									"const responseJson = pm.response.json();",
									"//console.log(responseJson)",
									"var algos = responseJson.key.algo",
									"//console.log(algos)",
									"var algo = algos[0]",
									"console.log(\"Setting variable algo=\"+algo)",
									"pm.collectionVariables.set(\"algo\", algo);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{user-token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "\t{\n\t    \"credentialID\": \"{{credential-id}}\",\n\t    \"certificates\": \"single\",\n\t    \"certInfo\": true,\n\t    \"authInfo\": true\n\t }",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{rssp-url}}/csc/v1/credentials/info",
							"host": [
								"{{rssp-url}}"
							],
							"path": [
								"csc",
								"v1",
								"credentials",
								"info"
							]
						}
					},
					"response": [
						{
							"name": "example credential info",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "\t{\n\t    \"credentialID\": \"{{credential-id}}\",\n\t    \"certificates\": \"single\",\n\t    \"certInfo\": true,\n\t    \"authInfo\": true\n\t }",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "localhost:8080/csc/v1/credentials/info",
									"host": [
										"localhost"
									],
									"port": "8080",
									"path": [
										"csc",
										"v1",
										"credentials",
										"info"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Vary",
									"value": "Origin"
								},
								{
									"key": "Vary",
									"value": "Access-Control-Request-Method"
								},
								{
									"key": "Vary",
									"value": "Access-Control-Request-Headers"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-XSS-Protection",
									"value": "1; mode=block"
								},
								{
									"key": "Cache-Control",
									"value": "no-cache, no-store, max-age=0, must-revalidate"
								},
								{
									"key": "Pragma",
									"value": "no-cache"
								},
								{
									"key": "Expires",
									"value": "0"
								},
								{
									"key": "X-Frame-Options",
									"value": "DENY"
								},
								{
									"key": "Content-Type",
									"value": "application/json"
								},
								{
									"key": "Transfer-Encoding",
									"value": "chunked"
								},
								{
									"key": "Date",
									"value": "Sun, 20 Jun 2021 21:31:51 GMT"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=60"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								}
							],
							"cookie": [],
							"body": "{\n    \"description\": null,\n    \"key\": {\n        \"status\": \"enabled\",\n        \"algo\": [\n            \"1.2.840.113549.1.1.1\"\n        ],\n        \"len\": \"2048\",\n        \"curve\": null\n    },\n    \"cert\": {\n        \"status\": \"expired\",\n        \"certificates\": [\n            \"-----BEGIN CERTIFICATE-----\\nMIICuDCCAaCgAwIBAgIGAXorU6h/MA0GCSqGSIb3DQEBCwUAMBQxEjAQBgNVBAMM\\nCWFzc2luYS5ldTAeFw0yMTA2MjAyMTI5MDBaFw0yMjA2MjAyMTI5MDBaMBExDzAN\\nBgNVBAMMBmNhcmxvczCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAJFz\\np90+a6AosF9UerlwsKv5mFvshJyuLnUopHQfao7fRijaJ0a1SzW/UYe24gFbeJCl\\n3e5WsQ64I2udsTNYI8JMrthL6SCQBOzLDG2YNnAW9p90M8Iwwx/zncpmdiyq5jBY\\nLicdW+yKcokiQ/BuJoYBj6f4LyGIzFnb6Qp1XWLWwq8+hGpHcKVXsxntiScaFZLo\\nMZhn6LELojWpMGBWVV2wiExYHyA8cscJS77eff/pLP4OZObiKVMJOYRbhC0c0usd\\n3tXgnZK1x/rgX+AhY2lKHkCBtjKKjwaQHAktZ6r9OD3tac4sey3WifzmdCXICpp3\\nfGfR0vZ7b5KLM3oIEUUCAwEAAaMTMBEwDwYDVR0TAQH/BAUwAwEB/zANBgkqhkiG\\n9w0BAQsFAAOCAQEAcqPxByWtejWAz1wT8YYjZi6PEQ9P/p8BDOfB/CZvJh/eNzUr\\nvN2LmTTeX5K9VYicHr0POULNwHQTyJq3jOY77tQwnRXRuBFYMYERM7lIVUCEa2d0\\njIG/bhdCAzSYEFK2yryJbHrO6aF+1LnaztItCROYyjTejV99rnoz+LOqzzRBjmGq\\nOl09OWpMfsopenAexnM63fstyz4mK0D1CQGHAsvNkPWcG6wUTJ7Qpz20vlVy0Spm\\n1yatqqPqYFjE6Vj+vVQyR2EfLLSmduD04HSZVD2Z83F1OqcfctFZh9EfS88NNPyA\\n16HxfF23v5rsKAQDPHt6yhRDr72EK4vROMDVJQ==\\n-----END CERTIFICATE-----\\n\"\n        ],\n        \"issuerDN\": \"CN=assina.eu\",\n        \"serialNumber\": \"1624224540799\",\n        \"subjectDN\": \"CN=carlos\",\n        \"validFrom\": \"20210620222900Z\",\n        \"validTo\": \"20220620222900Z\"\n    },\n    \"authMode\": \"explicit\",\n    \"multisign\": 1,\n    \"lang\": null,\n    \"scal\": \"1\",\n    \"otp\": null,\n    \"pin\": {\n        \"presence\": \"true\",\n        \"format\": \"N\",\n        \"label\": \"PIN\",\n        \"description\": \"PIN required for authorizing Assina to sign with this credential\"\n    }\n}"
						}
					]
				},
				{
					"name": "4: CSC Authorize Credential",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Returned SAD\", function () {",
									"    pm.response.to.have.status(200)",
									"    ",
									"});",
									"const responseJson = pm.response.json();",
									"//console.log(responseJson)",
									"var SAD = responseJson.SAD",
									"console.log(\"Setting SAD=\"+SAD)",
									"pm.collectionVariables.set(\"sad\", SAD);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{user-token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"credentialID\": \"{{credential-id}}\",\n    \"numSignatures\": 1,\n    \"hash\": [\n        \"this-is-a-hash\"\n    ],\n    \"PIN\": \"1234\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{rssp-url}}/csc/v1/credentials/authorize",
							"host": [
								"{{rssp-url}}"
							],
							"path": [
								"csc",
								"v1",
								"credentials",
								"authorize"
							]
						}
					},
					"response": [
						{
							"name": "example sad",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"credentialID\": \"{{credential-id}}\",\n    \"numSignatures\": 1,\n    \"hash\": [\n        \"this-is-a-hash\"\n    ],\n    \"PIN\": \"1234\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "localhost:8080/csc/v1/credentials/authorize",
									"host": [
										"localhost"
									],
									"port": "8080",
									"path": [
										"csc",
										"v1",
										"credentials",
										"authorize"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Vary",
									"value": "Origin"
								},
								{
									"key": "Vary",
									"value": "Access-Control-Request-Method"
								},
								{
									"key": "Vary",
									"value": "Access-Control-Request-Headers"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-XSS-Protection",
									"value": "1; mode=block"
								},
								{
									"key": "Cache-Control",
									"value": "no-cache, no-store, max-age=0, must-revalidate"
								},
								{
									"key": "Pragma",
									"value": "no-cache"
								},
								{
									"key": "Expires",
									"value": "0"
								},
								{
									"key": "X-Frame-Options",
									"value": "DENY"
								},
								{
									"key": "Content-Type",
									"value": "application/json"
								},
								{
									"key": "Transfer-Encoding",
									"value": "chunked"
								},
								{
									"key": "Date",
									"value": "Sun, 20 Jun 2021 21:32:12 GMT"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=60"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								}
							],
							"cookie": [],
							"body": "{\n    \"expiresIn\": 299,\n    \"SAD\": \"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI4MjJiMTc5Mi0zYTdjLTQ2YjAtYjNiNi1jNTg2ZDk3N2VhZmMiLCJpYXQiOjE2MjQyMjQ3MzIsImV4cCI6MTYyNDIyNTAzMiwidHlwZSI6IlNBRCJ9.LsttpzbOR1Y3hBTpBES5Kt9wbuiwwKAULzBVRgyU1kV9aKQxGbhUua8ggFnocNo2C_qzyEk209Nw58Qosi2ULg\"\n}"
						}
					]
				},
				{
					"name": "5: CSC Sign Hash",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{user-token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n   \"credentialID\": \"{{credential-id}}\",\n   \"SAD\": \"{{sad}}\",\n    \"hash\": [\n        \"this-is-a-hash\"\n    ],\n    \"signAlgo\": \"{{algo}}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "localhost:8080/csc/v1/signatures/signHash",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"csc",
								"v1",
								"signatures",
								"signHash"
							]
						}
					},
					"response": [
						{
							"name": "signed hash",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n   \"credentialID\": \"{{credential-id}}\",\n   \"SAD\": \"{{sad}}\",\n    \"hash\": [\n        \"this-is-a-hash\"\n    ],\n    \"signAlgo\": \"{{algo}}}\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "localhost:8080/csc/v1/signatures/signHash",
									"host": [
										"localhost"
									],
									"port": "8080",
									"path": [
										"csc",
										"v1",
										"signatures",
										"signHash"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Vary",
									"value": "Origin"
								},
								{
									"key": "Vary",
									"value": "Access-Control-Request-Method"
								},
								{
									"key": "Vary",
									"value": "Access-Control-Request-Headers"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-XSS-Protection",
									"value": "1; mode=block"
								},
								{
									"key": "Cache-Control",
									"value": "no-cache, no-store, max-age=0, must-revalidate"
								},
								{
									"key": "Pragma",
									"value": "no-cache"
								},
								{
									"key": "Expires",
									"value": "0"
								},
								{
									"key": "X-Frame-Options",
									"value": "DENY"
								},
								{
									"key": "Content-Type",
									"value": "application/json"
								},
								{
									"key": "Transfer-Encoding",
									"value": "chunked"
								},
								{
									"key": "Date",
									"value": "Sun, 20 Jun 2021 21:48:31 GMT"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=60"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								}
							],
							"cookie": [],
							"body": "{\n    \"signatures\": [\n        \"0\\ufffd\\u0006\\t*\\ufffdH\\ufffd\\ufffd\\r\\u0001\\u0007\\u0002\\ufffd\\ufffd0\\ufffd\\u0002\\u0001\\u00011\\u000f0\\r\\u0006\\t`\\ufffdH\\u0001e\\u0003\\u0004\\u0002\\u0001\\u0005\\u00000\\ufffd\\u0006\\t*\\ufffdH\\ufffd\\ufffd\\r\\u0001\\u0007\\u0001\\ufffd\\ufffd$\\ufffd\\u0004\\u000ethis-is-a-hash\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\\ufffd\\ufffd0\\ufffd\\u0002\\ufffd0\\ufffd\\u0001\\ufffd\\ufffd\\u0003\\u0002\\u0001\\u0002\\u0002\\u0006\\u0001z+b9Z0\\r\\u0006\\t*\\ufffdH\\ufffd\\ufffd\\r\\u0001\\u0001\\u000b\\u0005\\u00000\\u00141\\u00120\\u0010\\u0006\\u0003U\\u0004\\u0003\\f\\tassina.eu0\\u001e\\u0017\\r210620214455Z\\u0017\\r220620214455Z0\\u00111\\u000f0\\r\\u0006\\u0003U\\u0004\\u0003\\f\\u0006carlos0\\ufffd\\u0001\\\"0\\r\\u0006\\t*\\ufffdH\\ufffd\\ufffd\\r\\u0001\\u0001\\u0001\\u0005\\u0000\\u0003\\ufffd\\u0001\\u000f\\u00000\\ufffd\\u0001\\n\\u0002\\ufffd\\u0001\\u0001\\u0000\\ufffd\\ufffdq@F\\ufffd\\ufffd\\ts\\ufffd)\\ufffd\\\\\\u001a\\ufffd\\u0016\\ufffd\\\"h/\\ufffd\\ufffd\\ufffdf،k^\\ufffdO!\\ufffdG\\ufffd\\ufffdkq$\\ufffd\\\\\\ufffd\\ufffd2\\ufffd\\u0010iA@\\ufffd\\u001e::\\ufffdF\\u00140\\u001c\\ufffd\\ufffd\\u0003\\ufffd'\\ufffd\\ufffd\\ufffd\\ufffdE\\ufffd\\ufffdjDXcr\\ufffd\\ufffd\\\"\\u0018\\ufffd\\u0018v+k)~,\\ufffd\\u000f\\ufffdbI\\f\\\\\\ufffdj@\\ufffd&\\t7\\ufffd\\u000bUxlb*\\t\\u0005\\ufffdd\\ufffd\\u0001wk\\ufffd\\ufffdظ\\ufffdo\\ufffd\\ufffd\\ufffd\\u0005\\ufffd\\ufffd\\\\\\ufffd:\\ufffdc\\ufffd\\b\\ufffd\\ufffd\\u007f\\ufffd\\r\\ufffd}\\ufffd\\ufffd\\ufffd\\ufffdNI\\ufffdH;\\ufffdE=\\ufffd\\ufffdu\\ufffd\\ufffdL\\ufffd@\\ufffd\\ufffd\\ufffd:\\ufffd@jQ̕\\ufffdJ\\u0000\\ufffd=\\ufffdؿ\\\"\\ufffd\\ufffd-Qeۼ\\u0014\\ufffd\\ufffd\\ufffda\\ufffd\\u0004 eK\\ufffd\\ufffd\\ufffd\\ufffdB\\n\\ufffdf\\ufffdd\\ufffd\\t\\u001b_&\\ufffdeV\\ufffd\\ufffd\\ufffdΑ\\ufffd\\ufffd\\ufffdp\\ufffd\\ufffdб\\ufffd\\ufffd̵\\u0018\\ufffdU\\ufffd\\ufffdO\\ufffd|٫F R\\ufffd\\b\\ufffd\\u0002\\u0003\\u0001\\u0000\\u0001\\ufffd\\u00130\\u00110\\u000f\\u0006\\u0003U\\u001d\\u0013\\u0001\\u0001\\ufffd\\u0004\\u00050\\u0003\\u0001\\u0001\\ufffd0\\r\\u0006\\t*\\ufffdH\\ufffd\\ufffd\\r\\u0001\\u0001\\u000b\\u0005\\u0000\\u0003\\ufffd\\u0001\\u0001\\u0000V{\\f\\ufffd\\u0006\\ufffd\\ufffd\\ufffd\\u0013\\ufffd\\ufffdƂ\\u0007\\u001d.9\\ufffd\\ufffd\\u0010*ÿ\\ufffd)\\ufffd\\ufffd\\u0011\\ufffd̶\\ufffd{\\ufffdVݚJ|=\\ufffd\\u0006Q\\ufffd\\ufffd\\ufffd\\ufffd\\ufffd\\u001d\\ufffd\\ufffdP@\\ufffd\\ufffdjE\\u0012K\\ufffd\\ufffd\\ufffd\\u000b·|\\ufffds\\ufffd\\ufffd\\ufffd6@w~l\\ufffd\\ufffd\\\\\\t\\ufffd/C\\ufffd֦'\\ufffdx'\\u0019\\ufffd\\ufffdm\\ufffdl\\ufffd#\\u001eNk*hx\\ufffdx\\\"Qj\\ufffd(\\ufffd\\ufffd\\ufffdh\\ufffd\\ufffd&/\\u0010\\ufffd\\te /\\ufffdV<\\ufffdɦa\\ufffdZ\\ufffd\\ufffd\\ufffdo;C\\ufffd\\ufffd\\ufffd\\ufffd\\u0005\\u007f\\u0004n\\ufffde]~\\ufffd\\u001d\\ufffdT\\ufffd\\ufffd\\ufffd\\ufffd\\ufffd,\\u0010\\ufffd!\\ufffd\\u000b\\ufffd\\ufffd-ɘ\\ufffd\\ufffd\\ufffd}\\ufffdj\\ufffdg\\re\\ufffd\\ufffd$\\u001c\\ufffd\\ufffd9\\ufffd\\u0018\\ufffd\\u0019O\\ufffdJ\\ufffd66!\\ufffd5\\ufffd6\\ufffdD\\ufffd\\ufffd\\ufffdx\\ufffd\\ufffd\\u001f\\ufffd\\u0019\\ufffd\\u0001S\\u0000\\ufffd\\ufffd[bnzB\\ufffd\\u001cU\\ufffd4n\\ufffdDؔ3\\ufffdX/=\\ufffd\\ufffdRv\\n\\u0013\\ufffdu\\ufffd\\u0000\\u00001\\ufffd\\u0001\\ufffd0\\ufffd\\u0001\\ufffd\\u0002\\u0001\\u00010\\u001e0\\u00141\\u00120\\u0010\\u0006\\u0003U\\u0004\\u0003\\f\\tassina.eu\\u0002\\u0006\\u0001z+b9Z0\\r\\u0006\\t`\\ufffdH\\u0001e\\u0003\\u0004\\u0002\\u0001\\u0005\\u0000\\ufffd\\ufffd\\ufffd0\\u0018\\u0006\\t*\\ufffdH\\ufffd\\ufffd\\r\\u0001\\t\\u00031\\u000b\\u0006\\t*\\ufffdH\\ufffd\\ufffd\\r\\u0001\\u0007\\u00010\\u001c\\u0006\\t*\\ufffdH\\ufffd\\ufffd\\r\\u0001\\t\\u00051\\u000f\\u0017\\r210620214831Z0-\\u0006\\t*\\ufffdH\\ufffd\\ufffd\\r\\u0001\\t41 0\\u001e0\\r\\u0006\\t`\\ufffdH\\u0001e\\u0003\\u0004\\u0002\\u0001\\u0005\\u0000\\ufffd\\r\\u0006\\t*\\ufffdH\\ufffd\\ufffd\\r\\u0001\\u0001\\u000b\\u0005\\u00000/\\u0006\\t*\\ufffdH\\ufffd\\ufffd\\r\\u0001\\t\\u00041\\\"\\u0004 \\ufffd\\\"0#\\ufffd\\ufffd[\\ufffd\\ufffd\\ufffd\\ufffd\\ufffd\\ufffdUDэ\\\\=\\t\\u0013\\ufffd\\ufffd\\ufffdIqڠ\\ufffd\\ufffd\\ufffd0\\r\\u0006\\t*\\ufffdH\\ufffd\\ufffd\\r\\u0001\\u0001\\u000b\\u0005\\u0000\\u0004\\ufffd\\u0001\\u0000À{\\u0014G?\\u0019\\ufffd\\ufffd\\f\\ufffd\\f<۹HWs\\ufffd\\ufffd\\ufffd_\\ufffdzZ\\ufffd6dGP\\ufffd\\b\\ufffdE\\ufffd\\ufffd\\ufffd\\ufffd\\ufffd\\u0007\\ufffd\\\\\\ufffd\\ufffd\\ufffd\\ufffd\\ufffd\\ufffdX\\ufffdx\\ufffd\\ufffdP\\ufffdZ\\ufffd,Yc\\ufffd\\ufffd\\ufffd\\b'j\\ufffdN6\\ufffd\\ufffd\\u007f\\ufffd\\ufffd\\ufffd}@W\\ufffd\\ufffd䪙j\\f\\ufffd\\ufffd\\u0015af\\ufffd\\ufffd>uT:9\\ufffde7N\\ufffd\\ufffd\\ufffda\\ufffd\\f\\u00131\\u000b\\ufffdhl\\ufffd* \\ufffd\\ufffd\\ufffdT\\ufffdq\\u001f@\\ufffdʡU\\f\\u0004\\u0004\\ufffdO\\ufffd\\ufffd\\ufffd\\ufffd\\ufffd\\ufffd6m\\u001d \\u001d\\ufffd\\\\\\ufffd\\ufffd\\ufffd\\ufffdh\\ufffd\\ufffd5ϕ\\ufffd\\ufffdL|\\ufffd\\u000e\\ufffd\\ufffdw\\ufffd5\\ufffd\\u0013\\ufffd\\u0007\\ufffd\\ufffd\\ufffdg0\\u0004\\ufffd\\u0005\\ufffdFyTY}R-\\ufffd\\u0000C\\r\\u000f\\ufffd\\ufffd\\ufffd.\\ufffd{\\ufffdO\\ufffd\\ufffd\\ufffd:\\ufffd\\ufffd\\ufffdw\\ufffd\\ufffdK\\ufffd\\u0007\\ufffd\\\"R\\ufffd\\ufffdM\\u0011\\ufffd\\u0010=H3\\u0012\\ufffdaq\\u000es\\f\\u001c\\ufffd%\\ufffd\\u007fŗԿ\\ufffd\\ufffd\\ufffd\\ufffda\\ufffd\\ufffd\\r\\ufffdԻ\\ufffd\\ufffd\\u0000\\u0000\\u0000\\u0000\\u0000\\u0000\"\n    ]\n}"
						}
					]
				}
			]
		},
		{
			"name": "general",
			"item": [
				{
					"name": "admin login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Returned token\", function () {",
									"    pm.response.to.have.status(200)",
									"    ",
									"});",
									"const responseJson = pm.response.json();",
									"var token = responseJson.accessToken",
									"pm.collectionVariables.set(\"admin-token\", token);",
									"//var location = pm.response.headers.get(\"Location\")",
									"//if (location != null) {",
									"//    pm.collectionVariables.set(\"new_book\", location);",
									"//}",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\"usernameOrEmail\":\"admin\",\"password\":\"admin\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "localhost:8080/auth/login",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"auth",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "carlos login Copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Returned token\", function () {",
									"    pm.response.to.have.status(200)",
									"    ",
									"});",
									"const responseJson = pm.response.json();",
									"var token = responseJson.accessToken",
									"pm.collectionVariables.set(\"user-token\", token);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\"usernameOrEmail\":\"carlos\",\"password\":\"carlos\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "localhost:8080/auth/login",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"auth",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "ana login (admin)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Returned token\", function () {",
									"    pm.response.to.have.status(200)",
									"    ",
									"});",
									"const responseJson = pm.response.json();",
									"var token = responseJson.accessToken",
									"pm.collectionVariables.set(\"admin-token\", token);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\"usernameOrEmail\":\"ana\",\"password\":\"ana\"}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "localhost:8080/auth/login",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"auth",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "get all users :admin",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{admin-token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "localhost:8080/api/v1/users",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"v1",
								"users"
							]
						}
					},
					"response": [
						{
							"name": "get all users :admin",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "localhost:8080/api/v1/users",
									"host": [
										"localhost"
									],
									"port": "8080",
									"path": [
										"api",
										"v1",
										"users"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Vary",
									"value": "Origin"
								},
								{
									"key": "Vary",
									"value": "Access-Control-Request-Method"
								},
								{
									"key": "Vary",
									"value": "Access-Control-Request-Headers"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-XSS-Protection",
									"value": "1; mode=block"
								},
								{
									"key": "Cache-Control",
									"value": "no-cache, no-store, max-age=0, must-revalidate"
								},
								{
									"key": "Pragma",
									"value": "no-cache"
								},
								{
									"key": "Expires",
									"value": "0"
								},
								{
									"key": "X-Frame-Options",
									"value": "DENY"
								},
								{
									"key": "Content-Type",
									"value": "application/json"
								},
								{
									"key": "Transfer-Encoding",
									"value": "chunked"
								},
								{
									"key": "Date",
									"value": "Wed, 16 Jun 2021 16:28:28 GMT"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=60"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								}
							],
							"cookie": [],
							"body": "[\n    {\n        \"id\": \"006b6d6e-6b20-42b4-b5ce-35dea8f29be6\",\n        \"username\": \"Francisco Rosa\",\n        \"name\": \"Francisco Rosa\",\n        \"joinedAt\": \"2021-06-15T10:13:01Z\",\n        \"credentialCount\": 0\n    },\n    {\n        \"id\": \"21017d33-f3a7-4ca4-a0b5-1be706429a71\",\n        \"username\": \"Ana Banana\",\n        \"name\": \"Ana Banana\",\n        \"joinedAt\": null,\n        \"credentialCount\": 1\n    },\n    {\n        \"id\": \"220b7931-3602-4c21-ae51-dcaa1c52c204\",\n        \"username\": \"Carlos Santana\",\n        \"name\": \"Carlos Santana\",\n        \"joinedAt\": null,\n        \"credentialCount\": 4\n    },\n    {\n        \"id\": \"5f7099f2-34fc-40f2-9395-66a448c49382\",\n        \"username\": \"bob\",\n        \"name\": \"bob\",\n        \"joinedAt\": null,\n        \"credentialCount\": 0\n    },\n    {\n        \"id\": \"60aed53a-5aa7-4a32-97ad-5d1eb88a3fad\",\n        \"username\": \"rover rhubarb\",\n        \"name\": \"rover rhubarb\",\n        \"joinedAt\": \"2021-06-14T22:11:41Z\",\n        \"credentialCount\": 0\n    },\n    {\n        \"id\": \"d31a98ab-34ee-4658-a22c-fa5a6c443fe4\",\n        \"username\": \"admin\",\n        \"name\": \"admin\",\n        \"joinedAt\": null,\n        \"credentialCount\": 0\n    }\n]"
						}
					]
				},
				{
					"name": "get all credentials :admin",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{admin-token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "localhost:8080/api/v1/credentials",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"v1",
								"credentials"
							]
						}
					},
					"response": [
						{
							"name": "get all credentials :admin",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "localhost:8080/api/v1/credentials",
									"host": [
										"localhost"
									],
									"port": "8080",
									"path": [
										"api",
										"v1",
										"credentials"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Vary",
									"value": "Origin"
								},
								{
									"key": "Vary",
									"value": "Access-Control-Request-Method"
								},
								{
									"key": "Vary",
									"value": "Access-Control-Request-Headers"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-XSS-Protection",
									"value": "1; mode=block"
								},
								{
									"key": "Cache-Control",
									"value": "no-cache, no-store, max-age=0, must-revalidate"
								},
								{
									"key": "Pragma",
									"value": "no-cache"
								},
								{
									"key": "Expires",
									"value": "0"
								},
								{
									"key": "X-Frame-Options",
									"value": "DENY"
								},
								{
									"key": "Content-Type",
									"value": "application/json"
								},
								{
									"key": "Transfer-Encoding",
									"value": "chunked"
								},
								{
									"key": "Date",
									"value": "Wed, 16 Jun 2021 16:28:36 GMT"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=60"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								}
							],
							"cookie": [],
							"body": "{\n    \"content\": [\n        {\n            \"ownerUsername\": \"carlos\",\n            \"ownerName\": \"Carlos Santana\",\n            \"createdAt\": null,\n            \"description\": null\n        },\n        {\n            \"ownerUsername\": \"ana\",\n            \"ownerName\": \"Ana Banana\",\n            \"createdAt\": null,\n            \"description\": null\n        },\n        {\n            \"ownerUsername\": \"carlos\",\n            \"ownerName\": \"Carlos Santana\",\n            \"createdAt\": null,\n            \"description\": null\n        },\n        {\n            \"ownerUsername\": \"carlos\",\n            \"ownerName\": \"Carlos Santana\",\n            \"createdAt\": null,\n            \"description\": null\n        },\n        {\n            \"ownerUsername\": \"carlos\",\n            \"ownerName\": \"Carlos Santana\",\n            \"createdAt\": \"2021-06-16T15:44:45Z\",\n            \"description\": null\n        }\n    ],\n    \"pageable\": {\n        \"sort\": {\n            \"unsorted\": true,\n            \"sorted\": false,\n            \"empty\": true\n        },\n        \"pageNumber\": 0,\n        \"pageSize\": 20,\n        \"offset\": 0,\n        \"unpaged\": false,\n        \"paged\": true\n    },\n    \"totalPages\": 1,\n    \"totalElements\": 5,\n    \"last\": true,\n    \"numberOfElements\": 5,\n    \"sort\": {\n        \"unsorted\": true,\n        \"sorted\": false,\n        \"empty\": true\n    },\n    \"size\": 20,\n    \"number\": 0,\n    \"first\": true,\n    \"empty\": false\n}"
						}
					]
				},
				{
					"name": "create new credentials: carlos",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{user-token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"url": {
							"raw": "localhost:8080/api/v1/credentials",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"v1",
								"credentials"
							]
						}
					},
					"response": [
						{
							"name": "create new credentials: carlos",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"url": {
									"raw": "localhost:8080/api/v1/credentials",
									"host": [
										"localhost"
									],
									"port": "8080",
									"path": [
										"api",
										"v1",
										"credentials"
									]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Vary",
									"value": "Origin"
								},
								{
									"key": "Vary",
									"value": "Access-Control-Request-Method"
								},
								{
									"key": "Vary",
									"value": "Access-Control-Request-Headers"
								},
								{
									"key": "Location",
									"value": "http://localhost:8080/api/v1/credentials/c397c20b-81fe-4717-88ff-1a09b5589d3e"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-XSS-Protection",
									"value": "1; mode=block"
								},
								{
									"key": "Cache-Control",
									"value": "no-cache, no-store, max-age=0, must-revalidate"
								},
								{
									"key": "Pragma",
									"value": "no-cache"
								},
								{
									"key": "Expires",
									"value": "0"
								},
								{
									"key": "X-Frame-Options",
									"value": "DENY"
								},
								{
									"key": "Content-Type",
									"value": "application/json"
								},
								{
									"key": "Transfer-Encoding",
									"value": "chunked"
								},
								{
									"key": "Date",
									"value": "Wed, 16 Jun 2021 15:44:53 GMT"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=60"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								}
							],
							"cookie": [],
							"body": "{\n    \"createdAt\": \"2021-06-16T15:44:44.867356Z\",\n    \"updatedAt\": null,\n    \"id\": \"c397c20b-81fe-4717-88ff-1a09b5589d3e\",\n    \"owner\": \"220b7931-3602-4c21-ae51-dcaa1c52c204\",\n    \"description\": null,\n    \"publicKey\": \"-----BEGIN PUBLIC KEY-----\\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA3EEga9j+ikQuLm8hImsF\\nI32fF+bVAWxjJ0L/j6wwtRKYzvkVFAECdpPpB4HG8lLuWTmvBJ9NOEpqHHvlDsFr\\n0KpTgdv6/deLxF+7OFERWLN8o2bHOQXGYpr8iDeTVuq2IztkEodOOGm/Ar27p/cJ\\nsfYZ24jikKbjBu4MZfZ2BNlOQXfT3nVLd6ebstzFzmCAkreRdrK42mth6Y7bkmS4\\nCj18aLHDQXDWDzTshJyUuamQ5tYr3eqPG+xy+0gEduTu8oZKEJKoWaTLZZSSLHEU\\n+8vgpX79PTqsZMvqyL3mzbKNtJ/jesUOaJN6KAaUa8NfzuVfGKjD462JkqyegHtL\\n0wIDAQAB\\n-----END PUBLIC KEY-----\\n\",\n    \"privateKey\": \"-----BEGIN RSA PRIVATE KEY-----\\nProc-Type: 4,ENCRYPTED\\nDEK-Info: AES-256-CFB,2D5D3FA58C8CFD6C0DDABA77D4E917C9\\n\\nRmuKBcKYTAjeHlx0uIjBGY7H0lkM4CVA8dd2LYE8AiPYddX8L9jxalVkRu+YWvQ5\\nYaYWeAlA3YkujjRBLSoi1DR/74nV+jakYv3VVm0tpdR7TgsHARoyx4K2x4WKiQMq\\n8OE1HvYWNg7YxTSAIqwaxvF1pxnpYKhKUK8Eadgr4qwRum1zBOxg8hGJnwMdlxZQ\\nfWe+BRchKniISKuQRc7Wg46UD3/NXRfgiuyQ7IDarN82faWUxRJhjJ0dcXrFxjfS\\nUg/selI9t0PeD9StrQCazmxuTTxviw8kUQuVTArO85MpdAerDEXcG/DtIjon7eVj\\nWHh9J9I1h6//CVNaEPpFTkjzwpYybkG/pzAK2YCWCwKnW4R9mzbLbJ5wkJxGXTdH\\n4GNZtIrbLSFSsx2ntk7dhRPxk0qOZbFA0/QU0YtU+xWVpsyggXlsSF0yHeD7iYU1\\nJ1AbWX6SGpnXP1Dw7VonFoRUZpTEFVyWn4n45LAtdmhpi6wSKRLlvkqYJBL1JbHH\\n1A7bCz549CYvvzq1czZExlbcSooBKipAY2lWfUkmWZ2KYPYfdTLNhCwNfwj3kPJp\\n7gU0axLOczoC8BvK0/wObCdPxW70/BO1BTqdhu+CHEpZFoRXuc4Nze/uLc6zKA3r\\nH9ouQ4/Cbs4Vdp3vPqkCYi1LncV/2DJlaChRKN4bgf/blqeGKPZTC3C4Fxal54w4\\nAkDlijNnKQPQiNHvYe2SRw2fuo36CxA09xRMu/b04EH9FeUankzeg3goozcxVKGL\\nwT4l99AOWPkSsKj0boCcJSwJbXqFhTAGCldGcDK6cEsmrlT/iWbnzVYun7EAmovP\\nYGFlY5AWWY1x7hMk097yy07GJkp/q6kyGJkpOzZtkHzI/SDdCErlOyXb0A58gNe4\\niQUpA3YN1IU828QBwE2v9e8X1gJWFhZp8N+K0ShA5a8Ayt74weFTYnF/8pdELXZt\\n+xn8hyqBYm8KmF/RJpIcetBhmS9cCHfh3COfdkV4iujcx5MAMCJFwz+Qgkgug661\\nGIBvtvjCAtstT6vxMwbVc7FnjYf9XN11enJKQSuDJdBuA3gPk3ytOQFEWxxE4R0v\\nbeksHULz5th39uB8U76nl9k0BkfhMLQpjbu0BL0gIey+f7RAC2BLtJOPBQCuuQGB\\njtqD6dFaP/8McNxhdfM5daD6jX/nYgQzR7+ujd/dNMro38bG9ICGmU6STlZhTxFv\\ncfZA4iI7d1OEJb/lQgbiWj8ZwJ45I43OuSKr122bs/sjWPaSxGZiY0o9Fu5DplDo\\nhmwgKid8xpvy9KMj2lDti59UdcrF8g612sroL5UmdNCOBHr8zWlMbFrPnNzetiA1\\naeIoMMDq22C7vefADrUNekYV02aZtswTcpbkALMj4+m6mkGvOOsKdRavLJmhlAbX\\n7A5/v8L83oqFm1H5yp7XsD0eNwy7t7F/HxDtn5Mia1OJssnLSLlOkkDBaQeYC6NT\\ngGqDEEbZYTdd0XwJFbXgSS0gkJDpkxE1bn5UJ0f4cd6F8bdm4uoluni4qW+OcQl2\\nc5hOrS2UK0vvFYYS9z1zIITDWq8Tm3MQHJHqI8tRbrw2jZhIoWmLmw==\\n-----END RSA PRIVATE KEY-----\\n\",\n    \"keyEnabled\": true,\n    \"keyAlgorithmOIDs\": [\n        \"1.2.840.113549.1.1.1\"\n    ],\n    \"keyBitLength\": 2048,\n    \"certificate\": \"-----BEGIN CERTIFICATE-----\\nMIICuDCCAaCgAwIBAgIGAXoVfwi3MA0GCSqGSIb3DQEBCwUAMBQxEjAQBgNVBAMM\\nCWFzc2luYS5ldTAeFw0yMTA2MTYxNTQ0NDRaFw0yMjA2MTYxNTQ0NDRaMBExDzAN\\nBgNVBAMMBmNhcmxvczCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBANxB\\nIGvY/opELi5vISJrBSN9nxfm1QFsYydC/4+sMLUSmM75FRQBAnaT6QeBxvJS7lk5\\nrwSfTThKahx75Q7Ba9CqU4Hb+v3Xi8RfuzhREVizfKNmxzkFxmKa/Ig3k1bqtiM7\\nZBKHTjhpvwK9u6f3CbH2GduI4pCm4wbuDGX2dgTZTkF30951S3enm7Lcxc5ggJK3\\nkXayuNprYemO25JkuAo9fGixw0Fw1g807ISclLmpkObWK93qjxvscvtIBHbk7vKG\\nShCSqFmky2WUkixxFPvL4KV+/T06rGTL6si95s2yjbSf43rFDmiTeigGlGvDX87l\\nXxiow+OtiZKsnoB7S9MCAwEAAaMTMBEwDwYDVR0TAQH/BAUwAwEB/zANBgkqhkiG\\n9w0BAQsFAAOCAQEAx/vr0XNzbHo3ZVMK6fiIAmgsqh1UKoLxY7EUINi/mK5ZPLNq\\n0vhucGELNLoJng10Ll5Ixayw/Ce3H4Nz1SuSpDFOL8xDy/0ueFZqTeQlj4GGrhcR\\nvBzGwvEaFDSnFieY99ChWaZuF8i82Bq5bpDTozIJYLPiQtZ3vBeUDxnt1GO1IhdW\\nHcfnYJYkU9q+Zu2xbuz9v97/QKPdp9UaP/TMD7XBRZTPjhugbv3BhEsVFzVysJfm\\nmCwgILNll0+RE+CSJqk/5qAj22h0zmictJbOXKbKbXZrtN6MoGHbHAKDx7y44Jw4\\nL5JyfMbrKTkGF2c3K1lC1JEXaDKbtX66ZPaUZw==\\n-----END CERTIFICATE-----\\n\",\n    \"ecdsacurveOID\": null\n}"
						}
					]
				},
				{
					"name": "get all users: regular user",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{user-token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "localhost:8080/api/v1/users",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"v1",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "get ME ADMIN user",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{admin-token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "localhost:8080/api/v1/user/me",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"v1",
								"user",
								"me"
							]
						}
					},
					"response": []
				},
				{
					"name": "get ME regular user",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Returned token\", function () {",
									"    pm.response.to.have.status(200)",
									"    ",
									"});",
									"const responseJson = pm.response.json();",
									"var id = responseJson.id",
									"pm.collectionVariables.set(\"user-id\", id);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{user-token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "localhost:8080/api/v1/user/me",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"v1",
								"user",
								"me"
							]
						}
					},
					"response": []
				},
				{
					"name": "update me for regular user",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{user-token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"plainPIN\" : \"4567\",\n    \"email\" : \"foo@example.com\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "localhost:8080/api/v1/users/me",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"v1",
								"users",
								"me"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "SA",
			"item": [
				{
					"name": "Upload file",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{user-token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "file",
									"type": "file",
									"src": "/Users/cwerner/um/lei/projetos.pdf"
								},
								{
									"key": "pin",
									"value": "1234",
									"type": "text"
								},
								{
									"key": "credentialId",
									"value": "{{credential-id}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "http://localhost:8081/signFile",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8081",
							"path": [
								"signFile"
							]
						}
					},
					"response": []
				},
				{
					"name": "Download File",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{user-token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8081/downloadFile/projetos_signed.pdf",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8081",
							"path": [
								"downloadFile",
								"projetos_signed.pdf"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"variable": [
		{
			"key": "admin-token",
			"value": ""
		},
		{
			"key": "user-token",
			"value": ""
		},
		{
			"key": "credential-id",
			"value": ""
		},
		{
			"key": "algo",
			"value": ""
		},
		{
			"key": "sad",
			"value": ""
		},
		{
			"key": "user-id",
			"value": ""
		}
	]
}